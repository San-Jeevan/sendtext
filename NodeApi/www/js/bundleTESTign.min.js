function rcvClicked(){event.preventDefault();var n=$("#inputReceive").val();if(n=n.replace(/ /g,""),n==null||n===""){alert("No Code entered!");$("#inputReceive").focus();return}if(n.length!==6){alert("Code is always 6 digits!");$("#inputReceive").focus();return}StartReceiveSession(n)}function sendClicked(){event.preventDefault();var n=$("#inputSend").val();if(n==null||n===""){alert("Cannot send empty message!");$("#inputSend").focus();return}StartSendSession({data:n})}function initClipboardjs(){clipboard.on("success",function(n){n.clearSelection();$("#btnCopy").text("Copied successfully!")});clipboard.on("error",function(){$("#btnCopy").text("Could not copy to clipboard");$("#btnCopy").css("background","red")});clipboardCopyCode.on("success",function(n){n.clearSelection();$("#btnCopyCode").css("background","lightgreen")});clipboardCopyCode.on("error",function(){$("#btnCopyCode").css("background","red")})}function initBindings(){$("#btnReceive").click(rcvClicked);$("#btnSend").click(sendClicked);$('[data-toggle="popover"]').popover();inst=$("[data-remodal-id=modal]").remodal();instrecv=$("[data-remodal-id=modalrecv]").remodal();$(document).on("closed",".remodal",function(){sendmodalopen=!1;$("#btnCopyCode").css("background","#1ab0db")})}function StartReceiveSession(n){$.ajax({type:"GET",url:api_endpoint+"/api/getSession/"+n,crossDomain:!0,success:function(n){n.success&&($("#popuptextarea").val(n.returnobject),instrecv.open(),$("#popuptextarea").select())},error:function(n){console.log(n)}})}function StartSendSession(n){$.ajax({type:"POST",url:api_endpoint+"/api/createSession",data:JSON.stringify(n),contentType:"application/json; charset=utf-8",crossDomain:!0,dataType:"json",success:function(n){var t,i,r;n.success&&(t=n.returnobject.toString().substring(0,3)+" "+n.returnobject.toString().substring(3,6),$("#popupcodespan").val(t),inst.open(),i=600,r=$("#popuptimeleft"),sendmodalopen=!0,startTimer(i,r))},error:function(n){console.log(n)}})}function startTimer(n,t){$("#progressbar").show();var u=n,i,r;timerid=setInterval(function(){sendmodalopen||clearInterval(timerid);i=parseInt(u/60,10);r=parseInt(u%60,10);i=i<10?"0"+i:i;r=r<10?"0"+r:r;t.text(i+":"+r+" remain before expiry");var f=u/n*100;$("#progressbar").attr("aria-valuenow",f).css("width",f+"%");--u<0&&($("#progressbar").hide(),$("#popupcodespan").val("EXPIRED"),clearInterval(timerid))},1e3)}(function(n){var o={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:""},i=n(window),s=n(document),r=[],f=i.height(),t=function(){for(var u,e=i.scrollTop(),h=s.height(),c=h-f,l=e>c?c-e:0,o=0;o<r.length;o++){var t=r[o],a=t.stickyWrapper.offset().top,v=a-t.topSpacing-l;e<=v?t.currentTop!==null&&(t.stickyElement.css("position","").css("top",""),t.stickyElement.parent().removeClass(t.className),t.currentTop=null):(u=h-t.stickyElement.outerHeight()-t.topSpacing-t.bottomSpacing-e-l,u=u<0?u+t.topSpacing:t.topSpacing,t.currentTop!=u&&(t.stickyElement.css("position","fixed").css("top",u),typeof t.getWidthFrom!="undefined"&&t.stickyElement.css("width",n(t.getWidthFrom).width()),t.stickyElement.parent().addClass(t.className),t.currentTop=u))}},e=function(){f=i.height()},u={init:function(t){var i=n.extend(o,t);return this.each(function(){var t=n(this),f=t.attr("id"),e=n("<div><\/div>").attr("id",f+"-sticky-wrapper").addClass(i.wrapperClassName),u;t.wrapAll(e);i.center&&t.parent().css({width:t.outerWidth(),marginLeft:"auto",marginRight:"auto"});t.css("float")=="right"&&t.css({float:"none"}).parent().css({float:"right"});u=t.parent();u.css("height",t.outerHeight());r.push({topSpacing:i.topSpacing,bottomSpacing:i.bottomSpacing,stickyElement:t,currentTop:null,stickyWrapper:u,className:i.className,getWidthFrom:i.getWidthFrom})})},update:t};window.addEventListener?(window.addEventListener("scroll",t,!1),window.addEventListener("resize",e,!1)):window.attachEvent&&(window.attachEvent("onscroll",t),window.attachEvent("onresize",e));n.fn.sticky=function(t){if(u[t])return u[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.sticky");else return u.init.apply(this,arguments)};n(function(){setTimeout(t,0)})})(jQuery);var api_endpoint="http://localhost:1234",options={},inst,instrecv,clipboard=new Clipboard("#btnCopy"),clipboardCopyCode=new Clipboard("#btnCopyCode"),sendmodalopen=!1,timerid=0;jQuery(document).ready(function(){"use strict";initBindings();initClipboardjs()}),function(n){"use strict";function r(t){return n(t).data("tesla_themes")}function i(t,i,r){var u=n(t).data("tesla_themes"),f=undefined;return undefined!==u&&undefined!==u[i]&&undefined!==u[i][r]&&(f=u[i][r]),f}function t(t,i,r,u,f){var e;t=n(t);e=t.data("tesla_themes");undefined===e?(e={},e[i]={},e[i][r]={type:u,value:f}):undefined===e[i]?(e[i]={},e[i][r]={type:u,value:f}):e[i][r]={type:u,value:f};t.data("tesla_themes",e)}n.tesla_responsive=function(t){var f,r,i,e,u;return n.isArray(t)&&(f=n(window),r=t.length,r&&(t.sort(function(n,t){return t.width-n.width}),u=function(){for(var u=f.width(),n=0;n<r&&u<t[n].width;)n++;i=n<r?n:undefined;e!==i&&(e=i,undefined!==i&&t[i].action())},f.resize(u),u())),u};n.fn.tesla_slider=function(r){return this.each(function(u,f){var o=n(f),h=n.extend({item:".item",next:".next",prev:".prev",container:o,autoplay:!0,autoplaySpeed:4e3,autoplayResume:4e3,bullets:'[data-tesla-plugin="bullets"]'},r,{item:o.attr("data-tesla-item"),next:o.attr("data-tesla-next"),prev:o.attr("data-tesla-prev"),container:o.attr("data-tesla-container"),autoplay:o.attr("data-tesla-autoplay")!=="false",autoplaySpeed:o.attr("data-tesla-autoplay-speed")?parseInt(o.attr("data-tesla-autoplay-speed"),10):o.attr("data-tesla-autoplay-speed"),autoplayResume:o.attr("data-tesla-autoplay-resume")?parseInt(o.attr("data-tesla-autoplay-resume"),10):this.autoplaySpeed,bullets:o.attr("data-tesla-bullets"),active:o.attr("data-tesla-active")}),c=h.container instanceof jQuery?h.container:o.find(h.container),s=c.find(h.item),a=o.find(h.bullets),g=o.find(h.next),nt=o.find(h.prev),v=s.length-1,e=0,tt,p,it,w,rt,b,k,d,l,y;v<=0||(t(o,"slider","tesla_remove","removed",!1),tt=function(){var t=e,n;e--;e<0&&(e=v);n=e;c.css({height:Math.max(s.eq(t).outerHeight(!0),s.eq(n).outerHeight(!0))});s.eq(t).stop(!0,!0).fadeOut(1e3,function(){});s.eq(e).stop(!0,!0).fadeIn(1e3,function(){c.css({height:s.eq(n).outerHeight(!0)})});a.trigger("teslaSliderChange",{index:e})},p=function(){var t=e,n;e++;e>v&&(e=0);n=e;c.css({height:Math.max(s.eq(t).outerHeight(!0),s.eq(n).outerHeight(!0))});s.eq(t).stop(!0,!0).fadeOut(1e3,function(){});s.eq(e).stop(!0,!0).fadeIn(1e3,function(){c.css({height:s.eq(n).outerHeight(!0)})});a.trigger("teslaSliderChange",{index:e})},it=function(n){if(n!==e){var i=e,t;e=n;e>v&&(e=0);e<0&&(e=v);t=e;c.css({height:Math.max(s.eq(i).outerHeight(!0),s.eq(t).outerHeight(!0))});s.eq(i).stop(!0,!0).fadeOut(1e3,function(){});s.eq(e).stop(!0,!0).fadeIn(1e3,function(){c.css({height:s.eq(t).outerHeight(!0)})});a.trigger("teslaSliderChange",{index:e})}},rt=function(){c.css({position:"relative",height:s.eq(e).outerHeight(!0)});s.css({position:"absolute",top:0,left:0,right:0});s.filter(":gt(0)").css({display:"none"});n(window).resize(function(){c.css({height:s.eq(e).outerHeight(!0)})})},w=function(){rt();nt.click(function(n){if(l(),tt(),y(),n.preventDefault)n.preventDefault();else return!1});t(o,"slider","prev","event",nt);g.click(function(n){if(l(),p(),y(),n.preventDefault)n.preventDefault();else return!1});t(o,"slider","next","event",g);a.on("teslaBulletsClick",function(n,t){if(l(),it(t.index),y(),n.preventDefault)n.preventDefault();else return!1});t(o,"slider","bullets","bullets",a);s.hover(function(){l()},function(){l();y()});d=function(){h.autoplay&&(b=setInterval(p,h.autoplaySpeed),t(o,"slider","autoplay_interval","interval",b))};l=function(){h.autoplay&&(clearInterval(b),clearTimeout(k))};y=function(){h.autoplay&&(k=setTimeout(d,h.autoplayResume),t(o,"slider","autoplay_timeout","timeout",k))};d()},imagesLoaded?imagesLoaded(c[0],function(){i(o,"slider","tesla_remove").value||w()}):w())})};n.fn.tesla_masonry=function(r){return this.each(function(u,f){var e=n(f),c=n.extend({filters:'[data-tesla-plugin="filters"]'},r,{filters:e.attr("data-tesla-filters")}),s=n(c.filters),o=e.children(),h;t(e,"masonry","tesla_remove","removed",!1);h=function(){if(e.masonry(),s.length){s.on("teslaFiltersChange",function(n,t){for(var f=t.categories.length,i="",u=e.data("masonry"),r=0;r<f;r++)r&&(i+=", "),i+="."+t.categories[r];""===i?(u.options.itemSelector=undefined,o.stop(!0,!0).fadeIn(400)):(u.options.itemSelector=i,o.stop(!0,!0),o.filter(i).fadeIn(400),o.not(i).fadeOut(400));u.reloadItems();u.layout()});t(e,"masonry","filters","filters",s)}};n.fn.masonry&&(imagesLoaded?imagesLoaded(f,function(){i(e,"masonry","tesla_remove").value||h()}):h())})};n.fn.tesla_filters=function(i){return this.each(function(r,u){var e=n(u),o=n.extend({categories:"[data-category]"},i,{categories:e.attr("data-tesla-category")}),f=e.find(o.categories);f.click(function(t){var i=n(this),r;if(i.hasClass("active")?""===i.attr("data-category")?(f.filter('[data-category=""]').removeClass("active"),f.filter('[data-category!=""]').addClass("active")):(f.filter(i).removeClass("active"),f.filter(".active").length||f.filter('[data-category=""]').addClass("active")):""===i.attr("data-category")?(f.filter('[data-category=""]').addClass("active"),f.filter('[data-category!=""]').removeClass("active")):(f.filter('[data-category=""]').removeClass("active"),f.filter(i).addClass("active")),r=f.filter('.active[data-category!=""]').map(function(){return n(this).attr("data-category")}).get(),e.trigger("teslaFiltersChange",{categories:r}),t.preventDefault)t.preventDefault();else return!1});t(e,"filters","categories","event",f)})};n.fn.tesla_bullets=function(i){return this.each(function(r,u){var f=n(u),o=n.extend({bullets:">*",hover:!1},i,{bullets:f.attr("data-tesla-selector"),hover:f.attr("data-tesla-hover")}),e=f.find(o.bullets),h="0"===o.hover||"string"==typeof o.hover&&"false"===o.hover.toLowerCase()?!1:Boolean(o.hover),s=function(){f.trigger("teslaBulletsClick",{index:e.index(this)})};e.eq(0).addClass("active");e.click(s);t(f,"bullets","bullets","event",e);h&&e.mouseover(s);f.on("teslaSliderChange",function(n,t){e.filter(".active").removeClass("active");e.eq(t.index).addClass("active")});t(f,"bullets","e","event",f)})};n.fn.tesla_carousel=function(r){return this.each(function(u,f){var e=n(f),s=n.extend({item:".item",next:".next",prev:".prev",container:e,rotate:!0,autoplay:!0,hideEffect:!0,autoplaySpeed:4e3,autoplayResume:4e3},r,{item:e.attr("data-tesla-item"),next:e.attr("data-tesla-next"),prev:e.attr("data-tesla-prev"),container:e.attr("data-tesla-container"),rotate:e.attr("data-tesla-rotate"),autoplay:e.attr("data-tesla-autoplay"),hideEffect:e.attr("data-tesla-hide-effect"),autoplaySpeed:e.attr("data-tesla-autoplay-speed")?parseInt(e.attr("data-tesla-autoplay-speed"),10):e.attr("data-tesla-autoplay-speed"),autoplayResume:e.attr("data-tesla-autoplay-resume")?parseInt(e.attr("data-tesla-autoplay-resume"),10):this.autoplaySpeed}),a=s.container instanceof jQuery?s.container:e.find(s.container),c=a.find(s.item),w=e.find(s.next),b=e.find(s.prev),y,l,o=0,ot,rt,ut,ft,st,ht,ct,lt,nt,at,et,vt,yt,pt,wt="0"===s.rotate||"string"==typeof s.rotate&&"false"===s.rotate.toLowerCase()?!1:Boolean(s.rotate),h,v="0"===s.autoplay||"string"==typeof s.autoplay&&"false"===s.autoplay.toLowerCase()?!1:Boolean(s.autoplay),tt="0"===s.hideEffect||"string"==typeof s.hideEffect&&"false"===s.hideEffect.toLowerCase()?!1:Boolean(s.hideEffect),k,d,it,p,g,bt;t(e,"carousel","tesla_remove","removed",!1);a=a.wrapInner("<div>").children();t(e,"carousel","container","wrapper",a);it=function(){v&&(p(),undefined!==h?k=0:(k=setInterval(ut,s.autoplaySpeed),t(e,"carousel","autoplay_interval","interval",k)))};p=function(){v&&(clearInterval(k),k=undefined,clearTimeout(d),d=undefined)};g=function(){v&&(p(),undefined!==h?d=0:(d=setTimeout(it,s.autoplayResume),t(e,"carousel","autoplay_timeout","timeout",d)))};rt=function(){return o>0?(tt&&c.eq(o+l-1).css({"-webkit-transform":"scale(0)","-moz-transform":"scale(0)","-ms-transform":"scale(0)","-o-transform":"scale(0)",transform:"scale(0)"}),v||o!==y||w.removeClass("disabled"),o--,v||o!==0||b.addClass("disabled"),tt&&c.eq(o).css({"-webkit-transform":"scale(1)","-moz-transform":"scale(1)","-ms-transform":"scale(1)","-o-transform":"scale(1)",transform:"scale(1)"}),a.css({left:String(-o*100/l)+"%"}),!0):!1};ot=function(){undefined===h&&(rt()||wt&&o<y&&(clearInterval(h),h=setInterval(function(){ft()||(clearInterval(h),h=undefined)},200),t(e,"carousel","rotate_interval","interval",h)))};ft=function(){return o<y?(tt&&c.eq(o).css({"-webkit-transform":"scale(0)","-moz-transform":"scale(0)","-ms-transform":"scale(0)","-o-transform":"scale(0)",transform:"scale(0)"}),v||o!==0||b.removeClass("disabled"),o++,v||o!==y||w.addClass("disabled"),tt&&c.eq(o+l-1).css({"-webkit-transform":"scale(1)","-moz-transform":"scale(1)","-ms-transform":"scale(1)","-o-transform":"scale(1)",transform:"scale(1)"}),a.css({left:String(-o*100/l)+"%"}),!0):!1};ut=function(){undefined===h&&(ft()||wt&&o>0&&(clearInterval(h),clearInterval(k),clearTimeout(d),h=setInterval(function(){rt()||(clearInterval(h),h=undefined,undefined!==k&&it(),undefined!==d&&g())},200),t(e,"carousel","rotate_interval","interval",h)))};st=function(){nt()};ht=function(){nt()};ct=function(){nt()};lt=function(){nt()};nt=function(){pt=Math.max.apply(null,c.map(function(){return n(this).outerHeight(!0)}).get());yt=c.outerWidth(!0);l=Math.round(a.width()/yt);y=Math.max(c.length-l,0);o=Math.min(o,y);y?(v||o!==0?b.removeClass("disabled"):b.addClass("disabled"),v||o!==y?w.removeClass("disabled"):w.addClass("disabled")):(b.addClass("disabled"),w.addClass("disabled"));a.css({position:"relative",height:pt,"-webkit-transition":"left 0.4s ease-out","-moz-transition":"left 0.4s ease-out","-ms-transition":"left 0.4s ease-out","-o-transition":"left 0.4s ease-out",transition:"left 0.4s ease-out",left:String(-o*100/l)+"%"});c.css({position:"absolute",top:0,"-webkit-transition":"-webkit-transform 0.4s ease-out","-moz-transition":"-webkit-transform 0.4s ease-out","-ms-transition":"-webkit-transform 0.4s ease-out","-o-transition":"-webkit-transform 0.4s ease-out",transition:"-webkit-transform 0.4s ease-out"}).each(function(t){n(this).css({left:String(t*100/l)+"%"})});at()};at=function(){tt&&(c.filter(":gt("+String(l)+"),:eq("+String(l)+"),:lt("+String(o)+")").css({"-webkit-transform":"scale(0)","-moz-transform":"scale(0)","-ms-transform":"scale(0)","-o-transform":"scale(0)",transform:"scale(0)"}),c.filter(":gt("+String(o)+"):lt("+String(l)+"),:eq("+String(o)+")").css({"-webkit-transform":"scale(1)","-moz-transform":"scale(1)","-ms-transform":"scale(1)","-o-transform":"scale(1)",transform:"scale(1)"}))};vt=[{width:0,action:st},{width:768,action:ht},{width:992,action:ct},{width:1200,action:lt}];et=function(){bt=n.tesla_responsive(vt);t(e,"carousel","responsive_resize","responsive",bt);b.click(function(n){if(p(),g(),ot(),n.preventDefault)n.preventDefault();else return!1});t(e,"carousel","prev","event",b);w.click(function(n){if(p(),g(),ut(),n.preventDefault)n.preventDefault();else return!1});t(e,"carousel","next","event",w);c.click(function(){p();g()});c.hover(function(){p()},function(){p();g()});t(e,"carousel","items","event",c);it()};imagesLoaded?imagesLoaded(a[0],function(){i(e,"carousel","tesla_remove").value||et()}):et()})};n.fn.tesla_news_ticker=function(i){return this.each(function(r,u){var e=n(u),o=n.extend({speed:20,item:".item",container:e},i,{speed:e.attr("data-tesla-speed"),item:e.attr("data-tesla-item"),container:e.attr("data-tesla-container")}),s=o.container instanceof jQuery?o.container:e.find(o.container),f=s.find(o.item),h;f.length&&(h=function(){var i,r,u;s.css({overflow:"hidden"});s=f.wrapAll("<div>").parent().addClass("no-style");s.css({overflow:"hidden"});r=f.eq(0).clone();f.last().after(r);f=f.add(r);f=f.wrap("<div>").parent().addClass("no-style");f.css({float:"left",overflow:"hidden"});i=0;f.each(function(t,r){i+=n(r).width()});i+=f.length;s.css({width:i});u=function(){var n,i,u=function(){n=f.parent().children().first();i=n.width()},r=function(){var f=parseInt(n.css("margin-left"),10)||0,s=i+f;n.animate({marginLeft:-i},{duration:s*o.speed,easing:"linear",queue:!1,start:function(){t(e,"news_ticker","item_current","animation",n)},done:function(){n.css({display:"none",marginLeft:0}).appendTo(n.parent()).css({display:"block"});u();r()}})};u();r();f.hover(function(){n.stop()},function(){r()})};setTimeout(u,1e3)},h())})};n.fn.tesla_remove=function(){return this.each(function(i,u){var s=n(u),f=r(s),e,o;if(undefined!==f)for(e in f)if(undefined!==f[e]){t(s,e,"tesla_remove","removed",!0);for(o in f[e])switch(f[e][o].type){case"interval":clearInterval(f[e][o].value);break;case"timeout":clearTimeout(f[e][o].value);break;case"event":n(f[e][o].value).unbind().off();break;case"bullets":n(f[e][o].value).unbind().off().tesla_remove();break;case"filters":n(f[e][o].value).unbind().off().tesla_remove();break;case"responsive":n(window).unbind("resize",f[e][o].value);break;case"wrapper":n(f[e][o].value).contents().unwrap();break;case"animation":n(f[e][o].value).stop()}}})};n(function(){n('[data-tesla-plugin="slider"]').tesla_slider();n('[data-tesla-plugin="carousel"]').tesla_carousel();n('[data-tesla-plugin="masonry"]').tesla_masonry();n('[data-tesla-plugin="filters"]').tesla_filters();n('[data-tesla-plugin="bullets"]').tesla_bullets();n('[data-tesla-plugin="news_ticker"]').tesla_news_ticker()})}(jQuery),function(){"use strict";var t,n;jQuery.uaMatch=function(n){n=n.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:t[1]||"",version:t[2]||"0"}};t=jQuery.uaMatch(navigator.userAgent);n={};t.browser&&(n[t.browser]=!0,n.version=t.version);n.chrome?n.webkit=!0:n.webkit&&(n.safari=!0);jQuery.browser=n;jQuery.sub=function(){function n(t,i){return new n.fn.init(t,i)}jQuery.extend(!0,n,this);n.superclass=this;n.fn=n.prototype=this();n.fn.constructor=n;n.sub=this.sub;n.fn.init=function(i,r){return r&&r instanceof jQuery&&!(r instanceof n)&&(r=n(r)),jQuery.fn.init.call(this,i,r,t)};n.fn.init.prototype=n.fn;var t=n(document);return n}}();jQuery(document).ready(function(){"use strict";jQuery(".responsive-menu").click(function(n){return jQuery(".main-nav>ul").css({display:"block"}),n.stopPropagation(),n.preventDefault&&n.preventDefault(),!1});jQuery("body").click(function(){jQuery(".main-nav>ul").css({display:"none"})})});$(document).ready(function(){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(n,t){for(var i=t||0,r=this.length;i<r;i++)if(this[i]===n)return i;return-1})});jQuery(".contact-form").each(function(){"use strict";var t=jQuery(this),n=jQuery(this).find(".form-send"),r=n.val(),u=function(n){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)},i;t.submit(function(f){f.preventDefault();var e={},o=t.find("input[name],textarea[name]");o.each(function(){e[this.name]=jQuery(this).val()});e["contact-name"]===""||e["contact-email"]===""||e["contact-message"]===""?n.val("Please fill in all the required fields."):u(e["contact-email"])?jQuery.post("php/contacts.php",t.serialize(),function(t){n.val(t)}):n.val("Please provide a valid e-mail.");clearTimeout(i);i=setTimeout(function(){n.val(r)},3e3)})});jQuery(function(n){function t(){function u(){i?(i=!1,o(),setTimeout(e,f)):r=!0}function e(){r?(r=!1,o(),setTimeout(e,f)):i=!0}function o(){if(t.length){for(var u=n(window).scrollTop()+n(".navbar").height()+n("#wpadminbar").height()+20,i=-1,r;i+1<t.length&&u>=n(t.eq(i+1).data("anchor")?"#"+t.eq(i+1).data("anchor"):t.eq(i+1).attr("href")).offset().top;)i++;for(r=i;r>0&&n(t.eq(i).data("anchor")?"#"+t.eq(i).data("anchor"):t.eq(i).attr("href")).offset().top===n(t.eq(r-1).data("anchor")?"#"+t.eq(r-1).data("anchor"):t.eq(r-1).attr("href")).offset().top;)r--;for(s.filter(".active").each(function(u,f){var e=n(f),s=e.children("a"),o=t.index(s);(o<r||o>i)&&e.removeClass("active")});r<=i;)t.eq(r).parent().addClass("active"),1<=r?n(".header").addClass("header-transform"):n(".header").removeClass("header-transform"),r++}}function h(t){t.length&&n("body,html").animate({scrollTop:t.offset().top},1e3,"swing")}var t=n(".main-nav ul li a").filter(function(){var t=n(this).data("anchor")?"#"+n(this).data("anchor"):n(this).attr("href");return n(t).length?!0:!1}).sort(function(t,i){var r=n(t).data("anchor")?"#"+n(t).data("anchor"):n(t).attr("href"),u=n(i).data("anchor")?"#"+n(i).data("anchor"):n(i).attr("href");return n(r).offset().top-n(u).offset().top}),s=t.parent(),i=!0,r=!1,f=100;n(".main-nav ul li a").not(t).parent().addClass("no-anchor");t.bind("click",function(t){var i=n(this).data("anchor")?"#"+n(this).data("anchor"):n(this).attr("href");t.preventDefault();h(n(i))});n(document).ready(function(){u()});n(window).load(function(){u()});n(window).scroll(function(){u()})}t()});